{"ast":null,"code":"var _jsxFileName = \"/Users/Alaa/Desktop/Coding Projects/MovieAppReact/MovieApp/movie_app/src/components/SearchBar.jsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      page: 1\n    };\n    this.searchMovie = this.searchMovie.bind(this);\n    this.performSearch = this.performSearch.bind(this);\n    this.nextpage = this.nextpage.bind(this);\n    this.prevpage = this.prevpage.bind(this);\n  }\n\n  timeout(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async searchMovie(e) {\n    this.setState({\n      search: e.target.value\n    });\n    var prev = e.target.value;\n    await this.timeout(1500);\n\n    if (prev === this.state.search) {\n      this.performSearch();\n    }\n  }\n\n  performSearch() {\n    console.log(\"3\" + this.state.search);\n    fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.props.API_KEY}&query=${this.state.search}&language=en-US&page=1&include_adult=true&region=US&page=${this.state.page}`) //,{signal}\n    .then(response => response.json()).then(results => console.log(results)).catch(error => console.log(error));\n  }\n\n  async nextpage() {\n    await this.setPageState(this.state.page + 1);\n    this.performSearch();\n  }\n\n  async prevpage() {\n    await this.setPageState(this.state.page - 1);\n    this.performSearch();\n  }\n\n  setPageState(page) {\n    return new Promise(() => {\n      this.setState({\n        page\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.searchMovie,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search for a Movie!\",\n          onChange: this.searchMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n/*<form>\n  <div class=\"form-group\">\n    <label for=\"exampleInputEmail1\">Email address</label>\n    <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\n    <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n  </div>\n  <div class=\"form-group\">\n    <label for=\"exampleInputPassword1\">Password</label>\n    <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\"/>\n  </div>\n  <div class=\"form-check\">\n    <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\"/>\n    <label class=\"form-check-label\" for=\"exampleCheck1\">Check me out</label>\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n</form>*/","map":{"version":3,"sources":["/Users/Alaa/Desktop/Coding Projects/MovieAppReact/MovieApp/movie_app/src/components/SearchBar.jsx"],"names":["React","SearchBar","Component","constructor","props","state","search","page","searchMovie","bind","performSearch","nextpage","prevpage","timeout","ms","Promise","resolve","setTimeout","e","setState","target","value","prev","console","log","fetch","API_KEY","then","response","json","results","catch","error","setPageState","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,OAAO,MAAMC,SAAN,SAAwBD,KAAK,CAACE,SAA9B,CAAuC;AAC5CC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACTC,MAAAA,MAAM,EAAC,EADE;AAETC,MAAAA,IAAI,EAAC;AAFI,KAAX;AAIA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,QAAL,GAAc,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAd;AACA,SAAKG,QAAL,GAAgB,KAAKA,QAAL,CAAcH,IAAd,CAAmB,IAAnB,CAAhB;AACD;;AACDI,EAAAA,OAAO,CAACC,EAAD,EAAK;AACV,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAP;AACD;;AACgB,QAAXN,WAAW,CAACU,CAAD,EAAG;AAClB,SAAKC,QAAL,CAAc;AACZb,MAAAA,MAAM,EAACY,CAAC,CAACE,MAAF,CAASC;AADJ,KAAd;AAGA,QAAIC,IAAI,GAAGJ,CAAC,CAACE,MAAF,CAASC,KAApB;AACA,UAAM,KAAKR,OAAL,CAAa,IAAb,CAAN;;AACA,QAAIS,IAAI,KAAK,KAAKjB,KAAL,CAAWC,MAAxB,EAA+B;AAC7B,WAAKI,aAAL;AACD;AACF;;AACDA,EAAAA,aAAa,GAAE;AACba,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,KAAKnB,KAAL,CAAWC,MAA3B;AACAmB,IAAAA,KAAK,CAAE,qDAAoD,KAAKrB,KAAL,CAAWsB,OAAQ,UAAS,KAAKrB,KAAL,CAAWC,MAAO,4DAA2D,KAAKD,KAAL,CAAWE,IAAK,EAA/K,CAAL,CAAuL;AAAvL,KACCoB,IADD,CACMC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EADhB,EAECF,IAFD,CAEMG,OAAO,IAAEP,OAAO,CAACC,GAAR,CAAYM,OAAZ,CAFf,EAGCC,KAHD,CAGOC,KAAK,IAAGT,OAAO,CAACC,GAAR,CAAYQ,KAAZ,CAHf;AAID;;AAEa,QAARrB,QAAQ,GAAE;AACd,UAAM,KAAKsB,YAAL,CAAkB,KAAK5B,KAAL,CAAWE,IAAX,GAAgB,CAAlC,CAAN;AACA,SAAKG,aAAL;AACD;;AACa,QAARE,QAAQ,GAAE;AACd,UAAM,KAAKqB,YAAL,CAAkB,KAAK5B,KAAL,CAAWE,IAAX,GAAgB,CAAlC,CAAN;AACA,SAAKG,aAAL;AACD;;AACDuB,EAAAA,YAAY,CAAC1B,IAAD,EAAM;AAChB,WAAO,IAAIQ,OAAJ,CAAa,MAAI;AACpB,WAAKI,QAAL,CAAc;AAACZ,QAAAA;AAAD,OAAd;AACH,KAFM,CAAP;AAGD;;AAED2B,EAAAA,MAAM,GAAE;AACN,wBACA;AAAA,6BACE;AAAM,QAAA,QAAQ,EAAE,KAAK1B,WAArB;AAAA,+BACE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,WAAW,EAAC,qBAA/B;AAAqD,UAAA,QAAQ,EAAE,KAAKA;AAApE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADA;AAQD;;AAxD2C;AA0D9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from 'react'\n\nexport class SearchBar extends React.Component{\n  constructor(props){\n    super(props);\n    this.state={\n      search:\"\",\n      page:1\n    }\n    this.searchMovie = this.searchMovie.bind(this)\n    this.performSearch = this.performSearch.bind(this)\n    this.nextpage=this.nextpage.bind(this)\n    this.prevpage = this.prevpage.bind(this)\n  }\n  timeout(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n  async searchMovie(e){\n    this.setState({\n      search:e.target.value\n    })\n    var prev = e.target.value\n    await this.timeout(1500)\n    if (prev === this.state.search){\n      this.performSearch()\n    }\n  }\n  performSearch(){\n    console.log(\"3\"+this.state.search)\n    fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.props.API_KEY}&query=${this.state.search}&language=en-US&page=1&include_adult=true&region=US&page=${this.state.page}`) //,{signal}\n    .then(response=>response.json())\n    .then(results=>console.log(results))\n    .catch(error =>console.log(error))\n  }\n\n  async nextpage(){\n    await this.setPageState(this.state.page+1)\n    this.performSearch()\n  }\n  async prevpage(){\n    await this.setPageState(this.state.page-1)\n    this.performSearch()\n  }\n  setPageState(page){\n    return new Promise( ()=>{\n        this.setState({page})\n    })\n  }\n\n  render(){\n    return (\n    <div>\n      <form onSubmit={this.searchMovie}>\n        <input type=\"text\" placeholder=\"Search for a Movie!\" onChange={this.searchMovie}></input>\n      </form>\n\n    </div>  \n    );\n  }\n}\n/*<form>\n  <div class=\"form-group\">\n    <label for=\"exampleInputEmail1\">Email address</label>\n    <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\n    <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n  </div>\n  <div class=\"form-group\">\n    <label for=\"exampleInputPassword1\">Password</label>\n    <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\"/>\n  </div>\n  <div class=\"form-check\">\n    <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\"/>\n    <label class=\"form-check-label\" for=\"exampleCheck1\">Check me out</label>\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n</form>*/"]},"metadata":{},"sourceType":"module"}